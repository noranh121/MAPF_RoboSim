<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MAPF Simulator</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../static/css/styles.css" />
    <link rel="icon" href="../static/images/icons8-robot-2-30.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Satisfy&family=Space+Grotesk:wght@300..700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- header -->
    <header
      class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom fixed-top bg-light"
    >
      <a
        href="/"
        class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none"
      >
        <img
          src="../static/images/icons8-robot-2-30.png"
          class="bi me-2"
          width="40"
          height="32"
        />
        <span id="headerMain" class="fs-4">RoboSim</span>
      </a>

      <ul class="nav">
        <li class="nav-item">
          <a
            href="{{url_for('main')}}"
            class="nav-link active"
            aria-current="page"
            >Main</a
          >
        </li>
        <li class="nav-item">
          <a href="{{url_for('home')}}" class="nav-link">Home</a>
        </li>
        <li class="nav-item">
          <a href="{{url_for('info')}}" class="nav-link">Instructions</a>
        </li>
        <li class="nav-item">
          <a href="{{url_for('about')}}" class="nav-link">About</a>
        </li>
      </ul>
    </header>
    <br />
    <br />

    <!--upload section-->
    <div class="container my-5">
      <div
        class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg"
      >
        <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
          <h1 class="display-4 fw-bold lh-1">Upload Files</h1>
          <p class="lead">
            Use the first section of the page to upload the files you need. If
            you prefer to use the default files already available in the system,
            you can skip this section. Specific instructions for each file type
            are provided below.
          </p>
          <p>
            <b
              >Upload each file separately to ensure it's processed correctly —
              for each file: click "Choose File", select your file, then click
              "Upload".</b
            >
          </p>
        </div>
        <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
          <img
            class="rounded-lg-3"
            src="../static/images/upload view.png"
            alt=""
            width="720"
          />
        </div>
      </div>
    </div>

    <!-- aglorithms -->
    <div class="container my-5">
      <div
        class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg"
      >
        <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
          <h1 class="display-4 fw-bold lh-1">Algorithms File</h1>
          <p class="lead">The algorithm file must be a Python file with a <code>.py</code> extension. The internal implementation of your algorithm is entirely up to you — as long as it adheres to the required interface, it will be executed and visualized automatically in Gazebo.
            <br><br>
            Your file must define a function with the following signature:
            <code>def algo(benchmark: str, scenario: str) -> list[list[tuple]]</code>
            <br><br>
            - Both <code>benchmark</code> and <code>scenario</code> are parsed strings that correspond to the provided map and scenario files in the original format.<br/>  
            - The function should return a list of paths — one path per robot — where each path is a list of waypoints as <code>(x, y)</code> coordinates.
            <br><br>
            Each line in the scenario file corresponds to one robot, and the returned list must follow the same order.
            <br><br>
            <b>Example:</b> A possible return value for one robot could look like:<br/>
            <pre>[
  (0, 0),
  (1, 0),
  (2, 0),
  (2, 1)
]
            </pre>

        </p>
        </div>
        <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
          <img
            class="rounded-lg-3"
            src="../static/images/algorithm.png"
            alt=""
            width="720"
          />
        </div>
      </div>
    </div>

    <!-- maps -->
    <div class="container my-5">
      <div
        class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg"
      >
        <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
          <h1 class="display-4 fw-bold lh-1">Map/Benchmark File</h1>
          <p class="lead">
            <a href="https://movingai.com/benchmarks/mapf/index.html"
              >This website</a
            >
            provides multiple benchmarks, each containing a map. Choose your
            desired map and upload it here. Our built-in maps are also sourced
            from that website, such as <i>maze-128-128-10.map</i>, and others.
            <br /><br />
            <b>Note:</b> Make sure that the file selected is of extension
            <code>.txt</code>; convert before uploading (e.g.,
            <i>maze-128-128-10.map</i> → <i>maze-128-128-10.txt</i>).
          </p>
        </div>
        <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
          <img
            class="rounded-lg-3"
            src="../static/images/map (2).png"
            alt=""
            width="720"
          />
        </div>
      </div>
    </div>

    <!-- scencarios -->
    <div class="container my-5">
      <div
        class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg"
      >
        <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
          <h1 class="display-4 fw-bold lh-1">Scenario File</h1>
          <p class="lead">
            <a href="https://movingai.com/benchmarks/mapf/index.html"
              >This website</a
            >
            provides multiple scenarios for each map. Each scenario specifies
            the number of robots and their start and goal locations. Choose a
            scenario that matches the benchmark map you've selected.
          </p>
          <p><b>Note:</b> Make sure to that the file selected is of extension
            <code>.txt</code>; convert before uploading (e.g.,
            <i>Berlin_1_256-even.scen</i> → <i>Berlin_1_256-even.txt</i>).</p>
        </div>
        <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
          <img
            class="rounded-lg-3"
            src="../static/images/scenario.png"
            alt=""
            width="720"
          />
        </div>
      </div>
    </div>

    <!-- Select Section -->
    <div class="container my-5">
        <div
          class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg"
        >
          <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
            <h1 class="display-4 fw-bold lh-1">Select Files</h1>
            <p class="lead">
                Use this section to select the necessary files — either the ones you've uploaded or the ones already available. Once all files are selected, click 
                <b>Simulate</b> to start the simulation in Gazebo, simulation may take a few seconds to start.
                <br><br>
                If you can't find your file, you may have missed an error message during upload. Please go back and try uploading it again.
                <br><br>
                Click 'Download Results' after the simulation completes to save the results as a <code>.txt</code> file.
              </p>
              
          </div>
          <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
            <img
              class="rounded-lg-3"
              src="../static/images/select.png"
              alt=""
              width="720"
            />
          </div>
        </div>
      </div>

    <!-- icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
      feather.replace();
    </script>
    <script src="../static/js/script.js"></script>
  </body>
</html>
